(this["webpackJsonpceramic-overlay-fs"]=this["webpackJsonpceramic-overlay-fs"]||[]).push([[0],{331:function(e,t,n){"use strict";var r=n(157);Object.defineProperty(t,"__esModule",{value:!0}),t.IDXContext=void 0;var a=r(n(0)).default.createContext(null);t.IDXContext=a,a.displayName="IDX"},417:function(e){e.exports=JSON.parse('{"definitions":{"m\xefmis":"ceramic://kjzl6cwe1jw14634js8evp6y8jmxnsfdyku4307hffoz49tnz0ncv4qy7r9k3rw"},"schemas":{"M\xefmis":"ceramic://k3y52l7qbv1frybb0i893pf9i70gwmbdjziqwfod2ajo4sf506cmqwss90hjqys5c"}}')},456:function(e,t,n){"use strict";var r=n(157),a=r(n(0)),i=r(n(137)),u=r(n(467)),c=r(n(618)),s=n(332);i.default.render((0,s.jsx)(a.default.StrictMode,{children:(0,s.jsx)(u.default,{})}),document.getElementById("root")),(0,c.default)()},467:function(e,t,n){"use strict";var r=n(468),a=n(157);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(25)),u=a(n(151)),c=a(n(3)),s=n(621),o=n(356),l=a(n(499)),d=a(n(543)),f=n(556),h=r(n(0)),v=n(623),p=a(n(417)),x=a(n(615)),m=n(331),b=n(332);t.default=function(){var e,t=(0,h.useState)(null!==(e=Object({NODE_ENV:"production",PUBLIC_URL:"/ceramic-fs",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CERAMIC_URL)&&void 0!==e?e:"https://ceramic-clay.3boxlabs.com"),n=(0,c.default)(t,1)[0],r=(0,h.useMemo)((function(){return new d.default(n)}),[n]),a=(0,h.useMemo)((function(){return{"m\xefmis":p.default.definitions.m\u00efmis}}),[]),g=(0,h.useMemo)((function(){return new v.IDX({ceramic:r,aliases:a})}),[a,r]),k=new s.ThreeIdConnect,j=(0,h.useState)(!1)[1],y=function(){var e=(0,u.default)(i.default.mark((function e(){var t,n,a,u;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:return t=e.sent,n=t[0],a=new s.EthereumAuthProvider(window.ethereum,n),e.next=7,k.connect(a);case 7:return u=new f.DID({provider:k.getDidProvider(),resolver:l.default.getResolver(r)}),e.next=10,u.authenticate();case 10:r.setDID(u),j((function(e){return!e}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){r.setDID(void 0),j((function(e){return!e}))};return(0,b.jsx)(m.IDXContext.Provider,{value:g,children:(0,b.jsxs)(o.ChakraProvider,{children:[function(){var e=g.ceramic.did?["Disconnect",C,"red"]:["Connect",y,"green"],t=(0,c.default)(e,3),n=t[0],r=t[1],a=t[2];return(0,b.jsx)(o.Button,{position:"fixed",right:5,top:5,onClick:r,colorScheme:a,children:n})}(),(0,b.jsx)(x.default,{})]})})}},508:function(e,t){},565:function(e,t){},566:function(e,t){},615:function(e,t,n){"use strict";var r=n(157);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(400)),i=r(n(10)),u=r(n(128)),c=r(n(41)),s=r(n(25)),o=r(n(151)),l=r(n(3)),d=n(356),f=n(0),h=n(150),v=n(616),p=n(331),x=r(n(417)),m=n(332),b=0,g=["gray","red","orange","yellow","green","teal","blue","cyan","purple","pink"];t.default=function(){var e,t,n=(0,f.useContext)(p.IDXContext),r=(0,f.useState)([]),k=(0,l.default)(r,2),j=k[0],y=k[1],C=(0,f.useState)(""),w=(0,l.default)(C,2),S=w[0],T=w[1],D=(0,f.useState)("did:3:kjzl6cwe1jw147zr02h32lkdp666opzg0kp0sibzvumtn0z4k1wdxb6yb7ix4ie"),_=(0,l.default)(D,2),I=_[0],P=_[1],E=(0,f.useState)(!0),O=(0,l.default)(E,2),M=O[0],z=O[1],A=(0,v.useSuggestions)({did:I}),R=(0,l.default)(A,2),B=R[0],F=R[1],W=(0,f.useRef)(null),q=(0,d.useToast)(),K=function(){var e=(0,o.default)(s.default.mark((function e(t){var r,a;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.target.value,a=r.trim(),z(!0),!t.ctrlKey||!t.shiftKey||"Enter"!==t.key){e.next=10;break}return e.next=6,n.set("m\xefmis",{});case 6:q({title:"Reset File Paths.",description:"The filesystem has been cleared.",status:"success",duration:5e3,isClosable:!0}),z(!1),e.next=18;break;case 10:if(!t.ctrlKey||"Enter"!==t.key){e.next=17;break}return e.next=13,N(j);case 13:q({title:"Created Path.",description:"".concat(j[j.length-1]," has been added."),status:"success",duration:5e3,isClosable:!0}),z(!1),e.next=18;break;case 17:"Enter"===t.key&&""!==a?L(a):(T(r),F((function(e){return{path:e.path,string:r}})));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(e){z(!0),y((function(t){var n=[].concat((0,c.default)(t),[e]);return F({path:n,string:""}),n})),T("")},N=function(){var e=(0,o.default)(s.default.mark((function e(t){var r,c,o,l,d,f,v,p,m,b,g,k,j,y,C,w,S,T,D,_;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return");case 2:if(n.ceramic.did){e.next=6;break}q({title:"Connect to Ceramic.",description:"Creating paths requires connecting to the Ceramic network.",status:"error",duration:5e3,isClosable:!0}),e.next=63;break;case 6:return e.next=8,n.get("m\xefmis",I);case 8:r=e.sent,c=[],o=(0,u.default)(t),e.prev=11,o.s();case 13:if((l=o.n()).done){e.next=26;break}if(m=l.value,b=null!==(d=null===(f=r)||void 0===f?void 0:f[m])&&void 0!==d?d:null===(v=r)||void 0===v||null===(p=v.content)||void 0===p?void 0:p[m],!Boolean(b)){e.next=23;break}return e.next=19,h.TileDocument.load(n.ceramic,b);case 19:r=e.sent,c.push(r),e.next=24;break;case 23:return e.abrupt("break",26);case 24:e.next=13;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(11),o.e(e.t0);case 31:return e.prev=31,o.f(),e.finish(31);case 34:g=t.slice(c.length,t.length).reverse(),k=[],j=(0,u.default)(g),e.prev=37,j.s();case 39:if((y=j.n()).done){e.next=47;break}return w=y.value,e.next=43,h.TileDocument.create(n.ceramic,(0,i.default)({},w,null!==(C=k[0])&&void 0!==C?C:null),{controllers:[n.ceramic.did.id],family:"M\xefmis Node",schema:x.default.schemas.M\u00efmis});case 43:S=e.sent,k.unshift(S.id.toUrl());case 45:e.next=39;break;case 47:e.next=52;break;case 49:e.prev=49,e.t1=e.catch(37),j.e(e.t1);case 52:return e.prev=52,j.f(),e.finish(52);case 55:if(0!==c.length){e.next=59;break}k.length>0&&n.merge("m\xefmis",(0,i.default)({},t[0],k[1])),e.next=63;break;case 59:return D=c[c.length-1],_=(0,a.default)((0,a.default)({},D.content),{},(0,i.default)({},t[c.length],null!==(T=k[1])&&void 0!==T?T:null)),e.next=63,D.update(_);case 63:case"end":return e.stop()}}),e,null,[[11,28,31,34],[37,49,52,55]])})));return function(t){return e.apply(this,arguments)}}();return(0,f.useEffect)((function(){z(!1)}),[B]),(0,f.useEffect)((function(){var e,t;(null===n||void 0===n||null===(e=n.ceramic)||void 0===e||null===(t=e.did)||void 0===t?void 0:t.id)&&P(n.ceramic.did.id)}),[null===n||void 0===n||null===(e=n.ceramic)||void 0===e||null===(t=e.did)||void 0===t?void 0:t.id]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(d.Button,{position:"fixed",top:20,right:10,colorScheme:"orange",onClick:function(){return W.current.click()},children:"\u2795"}),(0,m.jsx)(d.Input,{type:"file",ref:W,style:{display:"none"}}),(0,m.jsxs)(d.Stack,{mr:"10em",children:[(0,m.jsxs)(d.InputGroup,{maxW:"42rem",m:"auto",mt:5,children:[(0,m.jsx)(d.InputLeftAddon,{children:"DID",title:"Decentralized Identifier"}),(0,m.jsx)(d.Input,{borderWidth:3,textAlign:"center",value:I,onChange:function(e){return P(e.target.value)}})]}),(0,m.jsxs)(d.Wrap,{justify:"center",mt:5,children:[j.map((function(e,t){return(0,m.jsxs)(d.Tag,{grow:3,variant:"solid",colorScheme:g[t%g.length],title:e,mr:1,children:[(0,m.jsx)(d.TagLabel,{children:e}),(0,m.jsx)(d.TagCloseButton,{onClick:function(){return function(e){z(!0),y((function(t){var n=(0,c.default)(t);return n.splice(e,1),F({path:n,string:S}),n}))}(t)}})]},++b)})),(0,m.jsx)(d.Input,{maxW:"20rem",borderWidth:3,autoFocus:!0,grow:1,onKeyPress:K,value:S,onChange:K})]}),M?(0,m.jsx)(d.Box,{align:"center",children:(0,m.jsx)(d.Spinner,{size:"xl",colorScheme:"blue",m:"auto",mt:40})}):0===B.length?(0,m.jsx)(d.Text,{textAlign:"center",children:"No path completions found\u2026"}):(0,m.jsxs)(d.Table,{children:[(0,m.jsx)(d.Thead,{children:(0,m.jsx)(d.Tr,{children:(0,m.jsx)(d.Th,{children:"Name"})})}),(0,m.jsx)(d.Tbody,{children:B.map((function(e,t){return(0,m.jsx)(d.Tr,{children:(0,m.jsx)(d.Td,{onClick:function(){return L(e)},cursor:"pointer",children:e})},t)}))})]})]})]})}},616:function(e,t,n){"use strict";var r=n(157);Object.defineProperty(t,"__esModule",{value:!0}),t.useSuggestions=void 0;var a=r(n(25)),i=r(n(128)),u=r(n(151)),c=r(n(3)),s=n(0),o=n(150),l=n(331);t.useSuggestions=function(e){var t=e.did,n=(0,s.useState)({path:[],string:""}),r=(0,c.default)(n,2),d=r[0],f=r[1],h=(0,s.useContext)(l.IDXContext),v=(0,s.useState)([]),p=(0,c.default)(v,2),x=p[0],m=p[1],b=(0,s.useCallback)((0,u.default)(a.default.mark((function e(){var n,r,u,c,s,l,f,v;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h){e.next=32;break}return e.next=3,h.get("m\xefmis",t);case 3:n=e.sent,r=n?[n]:[],u=(0,i.default)(d.path),e.prev=6,u.s();case 8:if((c=u.n()).done){e.next=21;break}if(l=c.value,f=null===(s=n)||void 0===s?void 0:s[l],!Boolean(f)){e.next=18;break}return e.next=14,o.TileDocument.load(h.ceramic,f);case 14:(n=e.sent.content)&&r.push(n),e.next=19;break;case 18:return e.abrupt("break",21);case 19:e.next=8;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(6),u.e(e.t0);case 26:return e.prev=26,u.f(),e.finish(26);case 29:v=[],r.length-1===d.path.length&&(v=Object.keys(r[r.length-1]),""!==d.string&&(v=v.filter((function(e){return e.startsWith(d.string)})))),m(v);case 32:case"end":return e.stop()}}),e,null,[[6,23,26,29]])}))),[d,h,t]);return(0,s.useEffect)((function(){return b()}),[b]),[x,f]}},618:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,628)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,u=t.getTTFB;n(e),r(e),a(e),i(e),u(e)}))};t.default=r}},[[456,1,2]]]);
//# sourceMappingURL=main.1f3bfe3a.chunk.js.map