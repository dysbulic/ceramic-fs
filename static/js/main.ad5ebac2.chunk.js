(this["webpackJsonpceramic-overlay-fs"]=this["webpackJsonpceramic-overlay-fs"]||[]).push([[0],{366:function(e,t,n){"use strict";var r=n(166);Object.defineProperty(t,"__esModule",{value:!0}),t.IDXContext=void 0;var a=r(n(0)).default.createContext(null);t.IDXContext=a,a.displayName="IDX"},452:function(e){e.exports=JSON.parse('{"definitions":{"m\xefmis":"ceramic://kjzl6cwe1jw14634js8evp6y8jmxnsfdyku4307hffoz49tnz0ncv4qy7r9k3rw"},"schemas":{"M\xefmis":"ceramic://k3y52l7qbv1frybb0i893pf9i70gwmbdjziqwfod2ajo4sf506cmqwss90hjqys5c"}}')},531:function(e,t,n){"use strict";var r=n(166),a=r(n(0)),i=r(n(159)),c=r(n(542)),s=r(n(872)),o=n(261);i.default.render((0,o.jsx)(a.default.StrictMode,{children:(0,o.jsx)(c.default,{})}),document.getElementById("root")),(0,s.default)()},542:function(e,t,n){"use strict";var r=n(380),a=n(166);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(5)),c=a(n(176)),s=a(n(3)),o=n(875),u=n(340),l=a(n(572)),d=a(n(614)),f=n(626),h=r(n(0)),p=n(877),m=a(n(452)),v=a(n(681)),x=n(366),b=n(261);t.default=function(){var e,t=(0,h.useState)(null!==(e=Object({NODE_ENV:"production",PUBLIC_URL:"/ceramic-fs",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CERAMIC_URI)&&void 0!==e?e:"https://ceramic-clay.3boxlabs.com"),n=(0,s.default)(t,2),r=n[0],a=n[1],g=(0,h.useMemo)((function(){return new d.default(r)}),[r]),k=(0,h.useMemo)((function(){return{"m\xefmis":m.default.definitions.m\u00efmis}}),[]),C=(0,h.useMemo)((function(){return new p.IDX({ceramic:g,aliases:k})}),[k,g]),j=(0,h.useState)(null),S=(0,s.default)(j,2),y=S[0],w=S[1],I=(0,h.useState)(!1),R=(0,s.default)(I,2),T=R[0],_=R[1],D=new o.ThreeIdConnect,F=(0,h.useState)(!1)[1],E=function(){var e=(0,c.default)(i.default.mark((function e(){var t,n,r,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:return t=e.sent,n=t[0],w(n),r=new o.EthereumAuthProvider(window.ethereum,n),e.next=8,D.connect(r);case 8:return a=new f.DID({provider:D.getDidProvider(),resolver:l.default.getResolver(g)}),e.next=11,a.authenticate();case 11:g.setDID(a),F((function(e){return!e}));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){g.setDID(void 0),F((function(e){return!e}))};return(0,h.useEffect)((function(){_(!1)}),[C.ceramic.did]),(0,b.jsx)(x.IDXContext.Provider,{value:C,children:(0,b.jsxs)(u.ChakraProvider,{children:[function(){var e=C.ceramic.did?["Disconnect",O,"red"]:["Connect",E,"green"],t=(0,s.default)(e,3),n=t[0],r=t[1],a=t[2];return(0,b.jsx)(u.Button,{position:"fixed",right:5,top:5,colorScheme:a,onClick:function(e){_(!0),r(e)},title:y,isDisabled:T,children:n})}(),(0,b.jsx)(v.default,{ceramicURI:r,setCeramicURI:a})]})})}},580:function(e,t){},634:function(e,t){},635:function(e,t){},681:function(e,t,n){"use strict";var r=n(166);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(434)),i=r(n(14)),c=r(n(150)),s=r(n(49)),o=r(n(5)),u=r(n(176)),l=r(n(3)),d=n(340),f=n(0),h=n(175),p=n(682),m=n(868),v=n(366),x=r(n(452)),b=r(n(869)),g=r(n(870)),k=n(261),C=0,j=["gray","red","orange","yellow","green","teal","blue","cyan","purple","pink"];t.default=function(e){var t,n,r,S=e.ceramicURI,y=e.setCeramicURI,w=(0,f.useContext)(v.IDXContext),I=(0,f.useState)([]),R=(0,l.default)(I,2),T=R[0],_=R[1],D=(0,f.useState)(""),F=(0,l.default)(D,2),E=F[0],O=F[1],P=(0,f.useState)("did:3:bafyreifdypkct7falt5aqkeahfl552ktoxlyh7lmrf6pttlwnfseufh4fe"),U=(0,l.default)(P,2),M=U[0],A=U[1],B=(0,f.useState)(!0),N=(0,l.default)(B,2),W=N[0],L=N[1],K=(0,m.useSuggestions)({did:M}),q=(0,l.default)(K,2),z=q[0],H=q[1],X=(0,f.useRef)(null),J=(0,f.useRef)(null),V=(0,f.useState)(null!==(t=Object({NODE_ENV:"production",PUBLIC_URL:"/ceramic-fs",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_IPFS_URI)&&void 0!==t?t:"/ip4/127.0.0.1/tcp/5001"),$=(0,l.default)(V,2),G=$[0],Y=$[1],Q=(0,p.create)(G),Z=(0,d.useToast)(),ee=(0,d.useDisclosure)(),te=ee.isOpen,ne=ee.onOpen,re=ee.onClose,ae=function(){var e=(0,u.default)(o.default.mark((function e(t){var n,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.value,r=n.trim(),L(!0),!t.ctrlKey||!t.shiftKey||"Enter"!==t.key){e.next=15;break}if(!window.confirm("Clear All Data\u203d")){e.next=12;break}if(w.ceramic.did){e.next=9;break}alert("\xa1Connect to Ceramic!"),e.next=12;break;case 9:return e.next=11,w.set("m\xefmis",{});case 11:Z({title:"Reset File Paths.",description:"The filesystem has been cleared.",status:"success",duration:5e3,isClosable:!0});case 12:L(!1),e.next=30;break;case 15:if(!t.ctrlKey||"Enter"!==t.key){e.next=29;break}return e.prev=16,e.next=19,se({path:T});case 19:Z({title:"Created Path.",description:"".concat(T[T.length-1]," has been added."),status:"success",duration:5e3,isClosable:!0}),e.next=24;break;case 22:e.prev=22,e.t0=e.catch(16);case 24:return e.prev=24,L(!1),e.finish(24);case 27:e.next=30;break;case 29:/^(Arrow)?(Right|Up)$/.test(t.key)?W||1!==z.length||(E===z[0]?ie(r):(O(z[0]),L(!1))):"Enter"===t.key&&""!==r?ie(r):"Backspace"===t.key&&""===n?ce(T.length-1):t.key||(O(n),H((function(e){return{path:e.path,string:n}})));case 30:case"end":return e.stop()}}),e,null,[[16,22,24,27]])})));return function(t){return e.apply(this,arguments)}}(),ie=function(e){L(!0),_((function(t){var n=[].concat((0,s.default)(t),[e]);return H({path:n,string:""}),n})),O("")},ce=function(e){L(!0),_((function(t){var n=(0,s.default)(t).slice(0,e);return H({path:n,string:E}),n}))},se=function(){var e=(0,u.default)(o.default.mark((function e(t){var n,r,s,u,d,f,p,m,v,b,g,k,C,j,S,y,I,R,T,_,D,F,E,O,P,U,A,B,N,W,L,K,q,z,H;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.path,r=t.cid,s=void 0===r?null:r,u=t.filename,d=void 0===u?null:u,0!==n.length){e.next=3;break}return e.abrupt("return");case 3:if(w.ceramic.did){e.next=8;break}throw Z({title:"Connect to Ceramic.",description:"Creating paths requires connecting to the Ceramic network.",status:"error",duration:5e3,isClosable:!0}),new Error("Not Connected");case 8:return p=[],e.next=11,w.get("m\xefmis",M);case 11:if(m=e.sent,b=[],g=null===(f=v=m)||void 0===f?void 0:f[n[0]],p.push(g),!Boolean(g)){e.next=20;break}return e.next=19,h.TileDocument.load(w.ceramic,g);case 19:v=e.sent;case 20:k=(0,c.default)(n.slice(1)),e.prev=21,k.s();case 23:if((C=k.n()).done){e.next=37;break}if(y=C.value,I=null===(j=v)||void 0===j||null===(S=j.content)||void 0===S?void 0:S[y],p.push(I),!Boolean(I)){e.next=34;break}return b.push(v),e.next=31,h.TileDocument.load(w.ceramic,I);case 31:v=e.sent,e.next=35;break;case 34:return e.abrupt("break",37);case 35:e.next=23;break;case 37:e.next=42;break;case 39:e.prev=39,e.t0=e.catch(21),k.e(e.t0);case 42:return e.prev=42,k.f(),e.finish(42);case 45:if(R=!(null===m||void 0===m?void 0:m[n[0]]),T=R?0:b.length+1,_=n.slice(Math.max(1,T),n.length).reverse(),D=[],!s){e.next=56;break}if(d){e.next=52;break}throw new Error("Filename not set.");case 52:return e.next=54,h.TileDocument.create(w.ceramic,(0,i.default)({},d,"ipfs://".concat(s.toString())),{controllers:[w.ceramic.did.id],family:"M\xefmis Content Node",schema:x.default.schemas.M\u00efmis});case 54:F=e.sent,D.push(F);case 56:E=(0,c.default)(_),e.prev=57,E.s();case 59:if((O=E.n()).done){e.next=67;break}return A=O.value,e.next=63,h.TileDocument.create(w.ceramic,(0,i.default)({},A,null!==(P=null===(U=D[0])||void 0===U?void 0:U.id.toUrl())&&void 0!==P?P:null),{controllers:[w.ceramic.did.id],family:"M\xefmis Context Node",schema:x.default.schemas.M\u00efmis});case 63:B=e.sent,D.unshift(B);case 65:e.next=59;break;case 67:e.next=72;break;case 69:e.prev=69,e.t1=e.catch(57),E.e(e.t1);case 72:return e.prev=72,E.f(),e.finish(72);case 75:if(!R){e.next=82;break}if(!(b.length>0)){e.next=78;break}throw new Error("\xbfNo Root, but Forward Walked?");case 78:return e.next=80,w.merge("m\xefmis",(0,i.default)({},n[0],null!==(N=null===(W=D[0])||void 0===W?void 0:W.id.toUrl())&&void 0!==N?N:null));case 80:e.next=93;break;case 82:if(!(T<n.length)){e.next=92;break}return L=b.slice(-1),K=(0,l.default)(L,1),q=K[0],z=D[0],e.next=87,h.TileDocument.load(w.ceramic,q.content[n[T-1]]);case 87:return H=e.sent,e.next=90,H.update((0,a.default)((0,a.default)({},H.content),z.content));case 90:e.next=93;break;case 92:console.info("No Changes");case 93:case"end":return e.stop()}}),e,null,[[21,39,42,45],[57,69,72,75]])})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=(0,u.default)(o.default.mark((function e(t){var n,r,a,i,s,u,d,f,h,p;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.files,r=t.target.value,0!==n.length){e.next=4;break}throw new Error("No file is selected");case 4:a=(0,c.default)(n),e.prev=5,a.s();case 7:if((i=a.n()).done){e.next=17;break}return s=i.value,e.next=11,Q.add(s,{progress:function(e){return console.info("received: ".concat(e))}});case 11:u=e.sent,d=r.split(/[./\\]/).slice(-1),f=(0,l.default)(d,1),h=f[0],p=h,se({path:T,cid:u.cid,filename:p});case 15:e.next=7;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(5),a.e(e.t0);case 22:return e.prev=22,a.f(),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[5,19,22,25]])})));return function(t){return e.apply(this,arguments)}}();return(0,f.useEffect)((function(){L(!1)}),[z]),(0,f.useEffect)((function(){var e,t;(null===w||void 0===w||null===(e=w.ceramic)||void 0===e||null===(t=e.did)||void 0===t?void 0:t.id)&&A(w.ceramic.did.id)}),[null===w||void 0===w||null===(n=w.ceramic)||void 0===n||null===(r=n.did)||void 0===r?void 0:r.id]),(0,k.jsxs)(k.Fragment,{children:[w.ceramic.did&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(d.Tooltip,{hasArrow:!0,label:"Add A File",children:(0,k.jsx)(d.Button,{position:"fixed",top:"25vh",right:"3vw",colorScheme:"orange",onClick:function(){return X.current.click()},children:"\u2795"})}),(0,k.jsx)(d.Input,{type:"file",ref:X,style:{display:"none"},onChange:oe})]}),(0,k.jsx)(d.Tooltip,{hasArrow:!0,label:"Settings",children:(0,k.jsx)(d.Button,{position:"fixed",top:"50vh",right:"3vw",colorScheme:"teal",fontSize:42,pt:1,onClick:ne,children:"\u2699"})}),(0,k.jsx)(g.default,{isOpen:te,onClose:re,ipfsURI:G,setIPFSURI:Y,ceramicURI:S,setCeramicURI:y,finalFocusRef:J}),(0,k.jsx)(d.Link,{href:"//github.com/dysbulic/ceramic-fs/",children:(0,k.jsx)(d.Image,{src:b.default,position:"fixed",boxSize:"5vw",bottom:0,right:6})}),(0,k.jsxs)(d.Box,{mr:"10em",children:[(0,k.jsxs)(d.InputGroup,{maxW:"42rem",m:"auto",mt:5,children:[(0,k.jsx)(d.InputLeftAddon,{children:"DID",title:"Decentralized Identifier"}),(0,k.jsx)(d.Input,{borderWidth:3,textAlign:"center",value:M,onChange:function(e){return A(e.target.value)}})]}),(0,k.jsxs)(d.Wrap,{justify:"center",mt:5,children:[T.map((function(e,t){return(0,k.jsxs)(d.Tag,{grow:3,variant:"solid",colorScheme:j[t%j.length],title:e,mr:1,children:[(0,k.jsx)(d.TagLabel,{children:e}),(0,k.jsx)(d.TagCloseButton,{onClick:function(){return ce(t)}})]},++C)})),(0,k.jsx)(d.Input,{maxW:"21rem",borderWidth:3,autoFocus:!0,grow:1,onKeyDown:ae,value:E,ref:J,onChange:ae,placeholder:"^\u23ce to create a path; \u2192\u2192 for autocomplete"})]}),function(){if(W)return(0,k.jsx)(d.Box,{align:"center",children:(0,k.jsx)(d.Spinner,{size:"xl",colorScheme:"blue",m:"auto",mt:40})});if("string"===typeof z){var e=z,t=e.match(/^ipfs:\/\/(.+)$/);return t&&(e="http://ipfs.io/ipfs/".concat(t[1])),(0,k.jsx)(d.Image,{src:e,mt:5,maxH:"90vh"})}return 0===z.length?(0,k.jsx)(d.Box,{mt:"30vh",children:(0,k.jsx)(d.Text,{textAlign:"center",fontFamily:"'Odibee Sans'",fontSize:65,children:"No path completions found\u2026"})}):(0,k.jsxs)(d.Table,{children:[(0,k.jsx)(d.Thead,{children:(0,k.jsx)(d.Tr,{children:(0,k.jsx)(d.Th,{children:"Name"})})}),(0,k.jsx)(d.Tbody,{children:z.sort().map((function(e,t){return(0,k.jsx)(d.Tr,{_hover:{bg:"#FFF70022"},children:(0,k.jsx)(d.Td,{onClick:function(){return ie(e)},cursor:"pointer",children:e})},t)}))})]})}()]})]})}},688:function(e,t){},694:function(e,t){},705:function(e,t){},706:function(e,t){},868:function(e,t,n){"use strict";var r=n(166);Object.defineProperty(t,"__esModule",{value:!0}),t.useSuggestions=void 0;var a=r(n(5)),i=r(n(150)),c=r(n(176)),s=r(n(3)),o=n(0),u=n(175),l=n(366);t.useSuggestions=function(e){var t=e.did,n=(0,o.useState)({path:[],string:""}),r=(0,s.default)(n,2),d=r[0],f=r[1],h=(0,o.useContext)(l.IDXContext),p=(0,o.useState)([]),m=(0,s.default)(p,2),v=m[0],x=m[1],b=(0,o.useCallback)((0,c.default)(a.default.mark((function e(){var n,r,c,s,o,l,f,p;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h){e.next=37;break}return e.next=3,h.get("m\xefmis",t);case 3:n=e.sent,r=n?[n]:[],c=(0,i.default)(d.path),e.prev=6,c.s();case 8:if((s=c.n()).done){e.next=26;break}if(l=s.value,!(null===(f=null===(o=n)||void 0===o?void 0:o[l])||void 0===f?void 0:f.startsWith("ceramic://"))){e.next=18;break}return e.next=14,u.TileDocument.load(h.ceramic,f);case 14:(n=e.sent.content)&&r.push(n),e.next=24;break;case 18:if(!(null===f||void 0===f?void 0:f.startsWith("ipfs://"))){e.next=23;break}return x(f),e.abrupt("return");case 23:return e.abrupt("break",26);case 24:e.next=8;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(6),c.e(e.t0);case 31:return e.prev=31,c.f(),e.finish(31);case 34:p=[],r.length-1===d.path.length&&(p=Object.keys(r[r.length-1]),""!==d.string&&(p=p.filter((function(e){return e.includes(d.string)})))),x(p);case 37:case"end":return e.stop()}}),e,null,[[6,28,31,34]])}))),[d,h,t]);return(0,o.useEffect)((function(){return b()}),[b]),[v,f]}},869:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/octocat.6986f28e.svg"},870:function(e,t,n){"use strict";var r=n(380),a=n(166);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(3)),c=n(340),s=r(n(0)),o=n(261);t.default=function(e){var t=e.isOpen,n=e.onClose,r=e.finalFocusRef,a=e.ipfsURI,u=e.setIPFSURI,l=e.ceramicURI,d=e.setCeramicURI,f=s.default.useRef(),h=(0,s.useState)(a),p=(0,i.default)(h,2),m=p[0],v=p[1],x=(0,s.useState)(l),b=(0,i.default)(x,2),g=b[0],k=b[1];return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(c.Modal,{initialFocusRef:f,finalFocusRef:r,isOpen:t,onClose:n,children:[(0,o.jsx)(c.ModalOverlay,{}),(0,o.jsxs)(c.ModalContent,{children:[(0,o.jsx)(c.ModalHeader,{textAlign:"center",children:"Configure Your Endpoints"}),(0,o.jsx)(c.ModalCloseButton,{}),(0,o.jsxs)(c.ModalBody,{pb:6,children:[(0,o.jsxs)(c.FormControl,{children:[(0,o.jsx)(c.FormLabel,{children:"IPFS URI"}),(0,o.jsx)(c.Input,{ref:f,placeholder:"IPFS URI",value:m,onChange:function(e){return v(e.target.value)}})]}),(0,o.jsxs)(c.FormControl,{mt:4,children:[(0,o.jsx)(c.FormLabel,{children:"Ceramic URI"}),(0,o.jsx)(c.Input,{placeholder:"Ceramic URI",value:g,onChange:function(e){return k(e.target.value)}})]})]}),(0,o.jsxs)(c.ModalFooter,{children:[(0,o.jsx)(c.Button,{colorScheme:"blue",mr:3,onClick:function(){u(m),d(g),n()},children:"Save"}),(0,o.jsx)(c.Button,{onClick:n,children:"Cancel"})]})]})]})})}},872:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,882)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};t.default=r}},[[531,1,2]]]);
//# sourceMappingURL=main.ad5ebac2.chunk.js.map