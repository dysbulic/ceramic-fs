(this["webpackJsonpceramic-overlay-fs"]=this["webpackJsonpceramic-overlay-fs"]||[]).push([[0],{366:function(e,t,n){"use strict";var r=n(166);Object.defineProperty(t,"__esModule",{value:!0}),t.IDXContext=void 0;var i=r(n(0)).default.createContext(null);t.IDXContext=i,i.displayName="IDX"},452:function(e){e.exports=JSON.parse('{"definitions":{"m\xefmis":"ceramic://kjzl6cwe1jw14634js8evp6y8jmxnsfdyku4307hffoz49tnz0ncv4qy7r9k3rw"},"schemas":{"M\xefmis":"ceramic://k3y52l7qbv1frybb0i893pf9i70gwmbdjziqwfod2ajo4sf506cmqwss90hjqys5c"}}')},531:function(e,t,n){"use strict";var r=n(166),i=r(n(0)),a=r(n(159)),o=r(n(542)),c=r(n(872)),u=n(261);a.default.render((0,u.jsx)(i.default.StrictMode,{children:(0,u.jsx)(o.default,{})}),document.getElementById("root")),(0,c.default)()},542:function(e,t,n){"use strict";var r=n(380),i=n(166);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(5)),o=i(n(176)),c=i(n(3)),u=n(875),s=n(340),l=i(n(572)),d=i(n(614)),f=n(626),h=r(n(0)),v=n(877),p=i(n(452)),m=i(n(681)),x=n(366),b=n(261);t.default=function(){var e,t=(0,h.useState)(null!==(e=Object({NODE_ENV:"production",PUBLIC_URL:"/ceramic-fs",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CERAMIC_URI)&&void 0!==e?e:"https://ceramic-clay.3boxlabs.com"),n=(0,c.default)(t,2),r=n[0],i=n[1],g=(0,h.useMemo)((function(){return new d.default(r)}),[r]),C=(0,h.useMemo)((function(){return{"m\xefmis":p.default.definitions.m\u00efmis}}),[]),k=(0,h.useMemo)((function(){return new v.IDX({ceramic:g,aliases:C})}),[C,g]),j=new u.ThreeIdConnect,S=(0,h.useState)(!1)[1],I=function(){var e=(0,o.default)(a.default.mark((function e(){var t,n,r,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:return t=e.sent,n=t[0],r=new u.EthereumAuthProvider(window.ethereum,n),e.next=7,j.connect(r);case 7:return i=new f.DID({provider:j.getDidProvider(),resolver:l.default.getResolver(g)}),e.next=10,i.authenticate();case 10:g.setDID(i),S((function(e){return!e}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){g.setDID(void 0),S((function(e){return!e}))};return(0,b.jsx)(x.IDXContext.Provider,{value:k,children:(0,b.jsxs)(s.ChakraProvider,{children:[function(){var e=k.ceramic.did?["Disconnect",w,"red"]:["Connect",I,"green"],t=(0,c.default)(e,3),n=t[0],r=t[1],i=t[2];return(0,b.jsx)(s.Button,{position:"fixed",right:5,top:5,onClick:r,colorScheme:i,children:n})}(),(0,b.jsx)(m.default,{ceramicURI:r,setCeramicURI:i})]})})}},580:function(e,t){},634:function(e,t){},635:function(e,t){},681:function(e,t,n){"use strict";var r=n(166);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(434)),a=r(n(14)),o=r(n(150)),c=r(n(49)),u=r(n(5)),s=r(n(176)),l=r(n(3)),d=n(340),f=n(0),h=n(175),v=n(682),p=n(868),m=n(366),x=r(n(452)),b=r(n(869)),g=r(n(870)),C=n(261),k=0,j=["gray","red","orange","yellow","green","teal","blue","cyan","purple","pink"];t.default=function(e){var t,n,r,S=e.ceramicURI,I=e.setCeramicURI,w=(0,f.useContext)(m.IDXContext),y=(0,f.useState)([]),R=(0,l.default)(y,2),D=R[0],_=R[1],T=(0,f.useState)(""),U=(0,l.default)(T,2),F=U[0],O=U[1],E=(0,f.useState)("did:3:kjzl6cwe1jw147zr02h32lkdp666opzg0kp0sibzvumtn0z4k1wdxb6yb7ix4ie"),P=(0,l.default)(E,2),M=P[0],B=P[1],A=(0,f.useState)(!0),N=(0,l.default)(A,2),z=N[0],W=N[1],K=(0,p.useSuggestions)({did:M}),L=(0,l.default)(K,2),q=L[0],H=L[1],X=(0,f.useRef)(null),J=(0,f.useRef)(null),V=(0,f.useState)(null!==(t=Object({NODE_ENV:"production",PUBLIC_URL:"/ceramic-fs",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_IPFS_URI)&&void 0!==t?t:"/ip4/127.0.0.1/tcp/5001"),G=(0,l.default)(V,2),Y=G[0],$=G[1],Q=(0,v.create)(Y),Z=(0,d.useToast)(),ee=(0,d.useDisclosure)(),te=ee.isOpen,ne=ee.onOpen,re=ee.onClose,ie=function(){var e=(0,s.default)(u.default.mark((function e(t){var n,r;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.value,r=n.trim(),W(!0),!t.ctrlKey||!t.shiftKey||"Enter"!==t.key){e.next=15;break}if(!window.confirm("Clear All Data\u203d")){e.next=12;break}if(w.ceramic.did){e.next=9;break}alert("\xa1Connect to Ceramic!"),e.next=12;break;case 9:return e.next=11,w.set("m\xefmis",{});case 11:Z({title:"Reset File Paths.",description:"The filesystem has been cleared.",status:"success",duration:5e3,isClosable:!0});case 12:W(!1),e.next=30;break;case 15:if(!t.ctrlKey||"Enter"!==t.key){e.next=29;break}return e.prev=16,e.next=19,oe({path:D});case 19:Z({title:"Created Path.",description:"".concat(D[D.length-1]," has been added."),status:"success",duration:5e3,isClosable:!0}),e.next=24;break;case 22:e.prev=22,e.t0=e.catch(16);case 24:return e.prev=24,W(!1),e.finish(24);case 27:e.next=30;break;case 29:/^(Arrow)?(Right|Up)$/.test(t.key)?z||1!==q.length||(F===q[0]?ae(r):(O(q[0]),W(!1))):"Enter"===t.key&&""!==r?ae(r):t.key||(O(n),H((function(e){return{path:e.path,string:n}})));case 30:case"end":return e.stop()}}),e,null,[[16,22,24,27]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(e){W(!0),_((function(t){var n=[].concat((0,c.default)(t),[e]);return H({path:n,string:""}),n})),O("")},oe=function(){var e=(0,s.default)(u.default.mark((function e(t){var n,r,c,s,d,f,v,p,m,b,g,C,k,j,S,I,y,R,D,_,T,U,F,O,E,P,B,A,N,z,W,K,L,q,H,X,J,V;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.path,r=t.cid,c=void 0===r?null:r,s=t.filename,d=void 0===s?null:s,0!==n.length){e.next=3;break}return e.abrupt("return");case 3:if(w.ceramic.did){e.next=8;break}throw Z({title:"Connect to Ceramic.",description:"Creating paths requires connecting to the Ceramic network.",status:"error",duration:5e3,isClosable:!0}),new Error("Not Connected");case 8:return e.next=10,w.get("m\xefmis",M);case 10:f=e.sent,v=[],p=(0,o.default)(n),e.prev=13,p.s();case 15:if((m=p.n()).done){e.next=28;break}if(j=m.value,S=null!==(b=null===(g=f)||void 0===g?void 0:g[j])&&void 0!==b?b:null===(C=f)||void 0===C||null===(k=C.content)||void 0===k?void 0:k[j],!Boolean(S)){e.next=25;break}return e.next=21,h.TileDocument.load(w.ceramic,S);case 21:f=e.sent,v.push(f),e.next=26;break;case 25:return e.abrupt("break",28);case 26:e.next=15;break;case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(13),p.e(e.t0);case 33:return e.prev=33,p.f(),e.finish(33);case 36:console.info("FWD",{path:n},v.map((function(e){return[e.id.toUrl(),e.content]}))),I=v.length,y=n.slice(I+1,n.length).reverse(),console.info("NON",y),R=[],D=(0,o.default)(y),e.prev=42,D.s();case 44:if((_=D.n()).done){e.next=53;break}return F=_.value,console.info("BKWRD",{found:I,backwards:R,elem:F}),e.next=49,h.TileDocument.create(w.ceramic,(0,a.default)({},F,null!==(T=null===(U=R[0])||void 0===U?void 0:U.id.toUrl())&&void 0!==T?T:null),{controllers:[w.ceramic.did.id],family:"M\xefmis Context Node",schema:x.default.schemas.M\u00efmis});case 49:O=e.sent,R.unshift(O);case 51:e.next=44;break;case 53:e.next=58;break;case 55:e.prev=55,e.t1=e.catch(42),D.e(e.t1);case 58:return e.prev=58,D.f(),e.finish(58);case 61:if(v.push.apply(v,R),console.info("DCKS",v.map((function(e){return[e.id.toUrl(),e.content]})),{found:I,path:n,pl:n.length,dl:v.length}),0!==I){e.next=69;break}return console.info("ROOT",(0,a.default)({},n[0],null!==(E=null===(P=v[1])||void 0===P?void 0:P.id.toUrl())&&void 0!==E?E:null)),e.next=67,w.merge("m\xefmis",(0,a.default)({},n[0],null!==(B=null===(A=v[1])||void 0===A?void 0:A.id.toUrl())&&void 0!==B?B:null));case 67:e.next=74;break;case 69:if(!(I+1<n.length)){e.next=74;break}return q=v[I+1],console.info("CHAIN",(0,i.default)((0,i.default)({},null!==(N=null===q||void 0===q?void 0:q.content)&&void 0!==N?N:[]),{},(0,a.default)({},n[I+1],null!==(z=null===(W=v[I+2])||void 0===W?void 0:W.id.toUrl())&&void 0!==z?z:null))),e.next=74,q.update((0,i.default)((0,i.default)({},q.content),{},(0,a.default)({},n[I+1],null!==(K=null===(L=v[I+2])||void 0===L?void 0:L.id.toUrl())&&void 0!==K?K:null)));case 74:if(!c){e.next=85;break}if(d){e.next=77;break}throw new Error("Filename not set.");case 77:return e.next=79,h.TileDocument.create(w.ceramic,(0,a.default)({},d,"ipfs://".concat(c.toString())),{controllers:[w.ceramic.did.id],family:"M\xefmis Content Node",schema:x.default.schemas.M\u00efmis});case 79:return H=e.sent,X=v.slice(-1),J=(0,l.default)(X,1),V=J[0],console.info("DOC",V,(0,i.default)((0,i.default)({},V.content),{},(0,a.default)({},n.slice(-1)[0],H.id.toUrl()))),e.next=84,V.update((0,i.default)((0,i.default)({},V.content),{},(0,a.default)({},n.slice(-1)[0],H.id.toUrl())));case 84:console.info({p:V.id.toUrl(),c:V.commitId.toUrl()});case 85:case"end":return e.stop()}}),e,null,[[13,30,33,36],[42,55,58,61]])})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=(0,s.default)(u.default.mark((function e(t){var n,r,i,a,c,s,l,d;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.files,r=t.target.value,0!==n.length){e.next=4;break}throw new Error("No file is selected");case 4:i=(0,o.default)(n),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=17;break}return c=a.value,e.next=11,Q.add(c,{progress:function(e){return console.info("received: ".concat(e))}});case 11:s=e.sent,l=r.split(".").slice(-1),d="".concat(l),oe({path:D,cid:s.cid,filename:d});case 15:e.next=7;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(5),i.e(e.t0);case 22:return e.prev=22,i.f(),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[5,19,22,25]])})));return function(t){return e.apply(this,arguments)}}();return(0,f.useEffect)((function(){W(!1)}),[q]),(0,f.useEffect)((function(){var e,t;(null===w||void 0===w||null===(e=w.ceramic)||void 0===e||null===(t=e.did)||void 0===t?void 0:t.id)&&B(w.ceramic.did.id)}),[null===w||void 0===w||null===(n=w.ceramic)||void 0===n||null===(r=n.did)||void 0===r?void 0:r.id]),(0,C.jsxs)(C.Fragment,{children:[w.ceramic.did&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(d.Button,{position:"fixed",top:"25vh",right:"3vw",colorScheme:"orange",onClick:function(){return X.current.click()},children:"\u2795"}),(0,C.jsx)(d.Input,{type:"file",ref:X,style:{display:"none"},onChange:ce})]}),(0,C.jsx)(d.Button,{position:"fixed",top:"50vh",right:"3vw",colorScheme:"teal",fontSize:42,pt:1,onClick:ne,children:"\u2699"}),(0,C.jsx)(g.default,{isOpen:te,onClose:re,ipfsURI:Y,setIPFSURI:$,ceramicURI:S,setCeramicURI:I,finalFocusRef:J}),(0,C.jsx)(d.Link,{href:"//github.com/dysbulic/ceramic-fs/",children:(0,C.jsx)(d.Image,{src:b.default,position:"fixed",boxSize:"5vw",bottom:0,right:6})}),(0,C.jsxs)(d.Box,{mr:"10em",children:[(0,C.jsxs)(d.InputGroup,{maxW:"42rem",m:"auto",mt:5,children:[(0,C.jsx)(d.InputLeftAddon,{children:"DID",title:"Decentralized Identifier"}),(0,C.jsx)(d.Input,{borderWidth:3,textAlign:"center",value:M,onChange:function(e){return B(e.target.value)}})]}),(0,C.jsxs)(d.Wrap,{justify:"center",mt:5,children:[D.map((function(e,t){return(0,C.jsxs)(d.Tag,{grow:3,variant:"solid",colorScheme:j[t%j.length],title:e,mr:1,children:[(0,C.jsx)(d.TagLabel,{children:e}),(0,C.jsx)(d.TagCloseButton,{onClick:function(){return function(e){W(!0),_((function(t){var n=(0,c.default)(t).slice(0,e);return H({path:n,string:F}),n}))}(t)}})]},++k)})),(0,C.jsx)(d.Input,{maxW:"20rem",borderWidth:3,autoFocus:!0,grow:1,onKeyDown:ie,value:F,ref:J,onChange:ie})]}),z?(0,C.jsx)(d.Box,{align:"center",children:(0,C.jsx)(d.Spinner,{size:"xl",colorScheme:"blue",m:"auto",mt:40})}):0===q.length?(0,C.jsx)(d.Box,{mt:"30vh",children:(0,C.jsx)(d.Text,{textAlign:"center",fontFamily:"'Odibee Sans'",fontSize:65,children:"No path completions found\u2026"})}):(0,C.jsxs)(d.Table,{children:[(0,C.jsx)(d.Thead,{children:(0,C.jsx)(d.Tr,{children:(0,C.jsx)(d.Th,{children:"Name"})})}),(0,C.jsx)(d.Tbody,{children:q.sort().map((function(e,t){return(0,C.jsx)(d.Tr,{_hover:{bg:"#FFF70022"},children:(0,C.jsx)(d.Td,{onClick:function(){return ae(e)},cursor:"pointer",children:e})},t)}))})]})]})]})}},688:function(e,t){},694:function(e,t){},705:function(e,t){},706:function(e,t){},868:function(e,t,n){"use strict";var r=n(166);Object.defineProperty(t,"__esModule",{value:!0}),t.useSuggestions=void 0;var i=r(n(5)),a=r(n(150)),o=r(n(176)),c=r(n(3)),u=n(0),s=n(175),l=n(366);t.useSuggestions=function(e){var t=e.did,n=(0,u.useState)({path:[],string:""}),r=(0,c.default)(n,2),d=r[0],f=r[1],h=(0,u.useContext)(l.IDXContext),v=(0,u.useState)([]),p=(0,c.default)(v,2),m=p[0],x=p[1],b=(0,u.useCallback)((0,o.default)(i.default.mark((function e(){var n,r,o,c,u,l,f,v;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h){e.next=32;break}return e.next=3,h.get("m\xefmis",t);case 3:n=e.sent,r=n?[n]:[],o=(0,a.default)(d.path),e.prev=6,o.s();case 8:if((c=o.n()).done){e.next=21;break}if(l=c.value,f=null===(u=n)||void 0===u?void 0:u[l],!Boolean(f)){e.next=18;break}return e.next=14,s.TileDocument.load(h.ceramic,f);case 14:(n=e.sent.content)&&r.push(n),e.next=19;break;case 18:return e.abrupt("break",21);case 19:e.next=8;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(6),o.e(e.t0);case 26:return e.prev=26,o.f(),e.finish(26);case 29:v=[],r.length-1===d.path.length&&(v=Object.keys(r[r.length-1]),""!==d.string&&(v=v.filter((function(e){return e.includes(d.string)})))),x(v);case 32:case"end":return e.stop()}}),e,null,[[6,23,26,29]])}))),[d,h,t]);return(0,u.useEffect)((function(){return b()}),[b]),[m,f]}},869:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/octocat.6986f28e.svg"},870:function(e,t,n){"use strict";var r=n(380),i=n(166);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(3)),o=n(340),c=r(n(0)),u=n(261);t.default=function(e){var t=e.isOpen,n=e.onClose,r=e.finalFocusRef,i=e.ipfsURI,s=e.setIPFSURI,l=e.ceramicURI,d=e.setCeramicURI,f=c.default.useRef(),h=(0,c.useState)(i),v=(0,a.default)(h,2),p=v[0],m=v[1],x=(0,c.useState)(l),b=(0,a.default)(x,2),g=b[0],C=b[1];return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(o.Modal,{initialFocusRef:f,finalFocusRef:r,isOpen:t,onClose:n,children:[(0,u.jsx)(o.ModalOverlay,{}),(0,u.jsxs)(o.ModalContent,{children:[(0,u.jsx)(o.ModalHeader,{children:"Configure Your Endpoints"}),(0,u.jsx)(o.ModalCloseButton,{}),(0,u.jsxs)(o.ModalBody,{pb:6,children:[(0,u.jsxs)(o.FormControl,{children:[(0,u.jsx)(o.FormLabel,{children:"IPFS URI"}),(0,u.jsx)(o.Input,{ref:f,placeholder:"IPFS URI",value:p,onChange:function(e){return m(e.target.value)}})]}),(0,u.jsxs)(o.FormControl,{mt:4,children:[(0,u.jsx)(o.FormLabel,{children:"Ceramic URI"}),(0,u.jsx)(o.Input,{placeholder:"Ceramic URI",value:g,onChange:function(e){return C(e.target.value)}})]})]}),(0,u.jsxs)(o.ModalFooter,{children:[(0,u.jsx)(o.Button,{colorScheme:"blue",mr:3,onClick:function(){s(p),d(g),n()},children:"Save"}),(0,u.jsx)(o.Button,{onClick:n,children:"Cancel"})]})]})]})})}},872:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,882)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};t.default=r}},[[531,1,2]]]);
//# sourceMappingURL=main.eb2b1771.chunk.js.map