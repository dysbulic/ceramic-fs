(this["webpackJsonpceramic-overlay-fs"]=this["webpackJsonpceramic-overlay-fs"]||[]).push([[0],{364:function(e,t,n){"use strict";var r=n(181);Object.defineProperty(t,"__esModule",{value:!0}),t.IDXContext=void 0;var a=r(n(0)).default.createContext(null);t.IDXContext=a,a.displayName="IDX"},451:function(e){e.exports=JSON.parse('{"definitions":{"m\xefmis":"ceramic://kjzl6cwe1jw14634js8evp6y8jmxnsfdyku4307hffoz49tnz0ncv4qy7r9k3rw"},"schemas":{"M\xefmis":"ceramic://k3y52l7qbv1frybb0i893pf9i70gwmbdjziqwfod2ajo4sf506cmqwss90hjqys5c"}}')},530:function(e,t,n){"use strict";var r=n(181),a=r(n(0)),i=r(n(159)),c=r(n(541)),u=r(n(870)),s=n(365);i.default.render((0,s.jsx)(a.default.StrictMode,{children:(0,s.jsx)(c.default,{})}),document.getElementById("root")),(0,u.default)()},541:function(e,t,n){"use strict";var r=n(542),a=n(181);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(5)),c=a(n(175)),u=a(n(3)),s=n(873),o=n(390),l=a(n(572)),d=a(n(614)),f=n(626),h=r(n(0)),v=n(875),p=a(n(451)),x=a(n(681)),m=n(364),b=n(365);t.default=function(){var e,t=(0,h.useState)(null!==(e=Object({NODE_ENV:"production",PUBLIC_URL:"/ceramic-fs",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CERAMIC_URL)&&void 0!==e?e:"https://ceramic-clay.3boxlabs.com"),n=(0,u.default)(t,2),r=n[0],a=(n[1],(0,h.useMemo)((function(){return new d.default(r)}),[r])),g=(0,h.useMemo)((function(){return{"m\xefmis":p.default.definitions.m\u00efmis}}),[]),k=(0,h.useMemo)((function(){return new v.IDX({ceramic:a,aliases:g})}),[g,a]),j=new s.ThreeIdConnect,C=(0,h.useState)(!1)[1],w=function(){var e=(0,c.default)(i.default.mark((function e(){var t,n,r,c;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:return t=e.sent,n=t[0],r=new s.EthereumAuthProvider(window.ethereum,n),e.next=7,j.connect(r);case 7:return c=new f.DID({provider:j.getDidProvider(),resolver:l.default.getResolver(a)}),e.next=10,c.authenticate();case 10:a.setDID(c),C((function(e){return!e}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){a.setDID(void 0),C((function(e){return!e}))};return(0,b.jsx)(m.IDXContext.Provider,{value:k,children:(0,b.jsxs)(o.ChakraProvider,{children:[function(){var e=k.ceramic.did?["Disconnect",y,"red"]:["Connect",w,"green"],t=(0,u.default)(e,3),n=t[0],r=t[1],a=t[2];return(0,b.jsx)(o.Button,{position:"fixed",right:5,top:5,onClick:r,colorScheme:a,children:n})}(),(0,b.jsx)(x.default,{})]})})}},580:function(e,t){},634:function(e,t){},635:function(e,t){},681:function(e,t,n){"use strict";var r=n(181);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(433)),i=r(n(14)),c=r(n(150)),u=r(n(49)),s=r(n(5)),o=r(n(175)),l=r(n(3)),d=n(390),f=n(0),h=n(174),v=n(682),p=n(868),x=n(364),m=r(n(451)),b=n(365),g=0,k=["gray","red","orange","yellow","green","teal","blue","cyan","purple","pink"];t.default=function(){var e,t,n,r=(0,f.useContext)(x.IDXContext),j=(0,f.useState)([]),C=(0,l.default)(j,2),w=C[0],y=C[1],S=(0,f.useState)(""),_=(0,l.default)(S,2),T=_[0],D=_[1],E=(0,f.useState)("did:3:kjzl6cwe1jw147zr02h32lkdp666opzg0kp0sibzvumtn0z4k1wdxb6yb7ix4ie"),I=(0,l.default)(E,2),P=I[0],O=I[1],R=(0,f.useState)(!0),F=(0,l.default)(R,2),A=F[0],M=F[1],W=(0,p.useSuggestions)({did:P}),z=(0,l.default)(W,2),B=z[0],K=z[1],N=(0,f.useRef)(null),L=(0,f.useState)(null!==(e=Object({NODE_ENV:"production",PUBLIC_URL:"/ceramic-fs",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_IPFS_URI)&&void 0!==e?e:"/ip4/127.0.0.1/tcp/5001"),U=(0,l.default)(L,2),q=U[0],X=(U[1],(0,v.create)(q)),H=(0,d.useToast)(),J=function(){var e=(0,o.default)(s.default.mark((function e(t){var n,a;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.value,a=n.trim(),M(!0),!t.ctrlKey||!t.shiftKey||"Enter"!==t.key){e.next=15;break}if(!window.confirm("Clear All Data\u203d")){e.next=12;break}if(r.ceramic.did){e.next=9;break}alert("\xa1Connect to Ceramic!"),e.next=12;break;case 9:return e.next=11,r.set("m\xefmis",{});case 11:H({title:"Reset File Paths.",description:"The filesystem has been cleared.",status:"success",duration:5e3,isClosable:!0});case 12:M(!1),e.next=30;break;case 15:if(!t.ctrlKey||"Enter"!==t.key){e.next=29;break}return e.prev=16,e.next=19,G({path:w});case 19:H({title:"Created Path.",description:"".concat(w[w.length-1]," has been added."),status:"success",duration:5e3,isClosable:!0}),e.next=24;break;case 22:e.prev=22,e.t0=e.catch(16);case 24:return e.prev=24,M(!1),e.finish(24);case 27:e.next=30;break;case 29:/^(Arrow)?(Right|Up)$/.test(t.key)?1===B.length&&D(B[0]):"Enter"===t.key&&""!==a?V(a):t.key||(D(n),K((function(e){return{path:e.path,string:n}})));case 30:case"end":return e.stop()}}),e,null,[[16,22,24,27]])})));return function(t){return e.apply(this,arguments)}}(),V=function(e){M(!0),y((function(t){var n=[].concat((0,u.default)(t),[e]);return K({path:n,string:""}),n})),D("")},G=function(){var e=(0,o.default)(s.default.mark((function e(t){var n,u,o,l,d,f,v,p,x,b,g,k,j,C,w,y,S,_,T,D,E,I,O,R,F,A,M;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.path,u=t.cid,o=void 0===u?null:u,l=t.filename,d=void 0===l?null:l,0!==n.length){e.next=3;break}return e.abrupt("return");case 3:if(r.ceramic.did){e.next=8;break}throw H({title:"Connect to Ceramic.",description:"Creating paths requires connecting to the Ceramic network.",status:"error",duration:5e3,isClosable:!0}),new Error("Not Connected");case 8:return e.next=10,r.get("m\xefmis",P);case 10:f=e.sent,v=[],p=(0,c.default)(n),e.prev=13,p.s();case 15:if((x=p.n()).done){e.next=28;break}if(C=x.value,w=null!==(b=null===(g=f)||void 0===g?void 0:g[C])&&void 0!==b?b:null===(k=f)||void 0===k||null===(j=k.content)||void 0===j?void 0:j[C],!Boolean(w)){e.next=25;break}return e.next=21,h.TileDocument.load(r.ceramic,w);case 21:f=e.sent,v.push(f),e.next=26;break;case 25:return e.abrupt("break",28);case 26:e.next=15;break;case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(13),p.e(e.t0);case 33:return e.prev=33,p.f(),e.finish(33);case 36:y=v.length,S=n.slice(y,n.length).reverse(),_=[],T=(0,c.default)(S),e.prev=40,T.s();case 42:if((D=T.n()).done){e.next=51;break}return I=D.value,console.info("BKWRD",{backwards:_,elem:I}),e.next=47,h.TileDocument.create(r.ceramic,(0,i.default)({},I,null!==(E=_[0])&&void 0!==E?E:null),{controllers:[r.ceramic.did.id],family:"M\xefmis Node",schema:m.default.schemas.M\u00efmis});case 47:O=e.sent,_.unshift(O);case 49:e.next=42;break;case 51:e.next=56;break;case 53:e.prev=53,e.t1=e.catch(40),T.e(e.t1);case 56:return e.prev=56,T.f(),e.finish(56);case 59:if(v.push.apply(v,_),0!==y){e.next=66;break}if(!(v.length>2)){e.next=64;break}return e.next=64,r.merge("m\xefmis",(0,i.default)({},n[0],v[1].id.toUrl()));case 64:e.next=69;break;case 66:return A=v[y],e.next=69,A.update((0,a.default)((0,a.default)({},A.content),{},(0,i.default)({},n[y],null!==(R=null===(F=v[y+1])||void 0===F?void 0:F.id.toUrl())&&void 0!==R?R:null)));case 69:if(!o){e.next=75;break}if(d){e.next=72;break}throw new Error("Filename not set.");case 72:return M=v.slice(-1),e.next=75,M.update((0,a.default)((0,a.default)({},M.content),{},(0,i.default)({},d,"ipfs://".concat(o.toString()))));case 75:case"end":return e.stop()}}),e,null,[[13,30,33,36],[40,53,56,59]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=(0,o.default)(s.default.mark((function e(t){var n,r,a,i,u,o,l,d;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.files,r=t.target.value,0!==n.length){e.next=4;break}throw new Error("No file is selected");case 4:a=(0,c.default)(n),e.prev=5,a.s();case 7:if((i=a.n()).done){e.next=17;break}return u=i.value,e.next=11,X.add(u,{progress:function(e){return console.info("received: ".concat(e))}});case 11:o=e.sent,l=r.split(".").slice(-1),d="".concat(l),G({path:w,cid:o.cid,filename:d});case 15:e.next=7;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(5),a.e(e.t0);case 22:return e.prev=22,a.f(),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[5,19,22,25]])})));return function(t){return e.apply(this,arguments)}}();return(0,f.useEffect)((function(){M(!1)}),[B]),(0,f.useEffect)((function(){var e,t;(null===r||void 0===r||null===(e=r.ceramic)||void 0===e||null===(t=e.did)||void 0===t?void 0:t.id)&&O(r.ceramic.did.id)}),[null===r||void 0===r||null===(t=r.ceramic)||void 0===t||null===(n=t.did)||void 0===n?void 0:n.id]),(0,b.jsxs)(b.Fragment,{children:[r.ceramic.did&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.Button,{position:"fixed",top:20,right:10,colorScheme:"orange",onClick:function(){return N.current.click()},children:"\u2795"}),(0,b.jsx)(d.Input,{type:"file",ref:N,style:{display:"none"},onChange:$})]}),(0,b.jsxs)(d.Stack,{mr:"10em",children:[(0,b.jsxs)(d.InputGroup,{maxW:"42rem",m:"auto",mt:5,children:[(0,b.jsx)(d.InputLeftAddon,{children:"DID",title:"Decentralized Identifier"}),(0,b.jsx)(d.Input,{borderWidth:3,textAlign:"center",value:P,onChange:function(e){return O(e.target.value)}})]}),(0,b.jsxs)(d.Wrap,{justify:"center",mt:5,children:[w.map((function(e,t){return(0,b.jsxs)(d.Tag,{grow:3,variant:"solid",colorScheme:k[t%k.length],title:e,mr:1,children:[(0,b.jsx)(d.TagLabel,{children:e}),(0,b.jsx)(d.TagCloseButton,{onClick:function(){return function(e){M(!0),y((function(t){var n=(0,u.default)(t).slice(0,e);return K({path:n,string:T}),n}))}(t)}})]},++g)})),(0,b.jsx)(d.Input,{maxW:"20rem",borderWidth:3,autoFocus:!0,grow:1,onKeyDown:J,value:T,onChange:J})]}),A?(0,b.jsx)(d.Box,{align:"center",children:(0,b.jsx)(d.Spinner,{size:"xl",colorScheme:"blue",m:"auto",mt:40})}):0===B.length?(0,b.jsx)(d.Text,{textAlign:"center",children:"No path completions found\u2026"}):(0,b.jsxs)(d.Table,{children:[(0,b.jsx)(d.Thead,{children:(0,b.jsx)(d.Tr,{children:(0,b.jsx)(d.Th,{children:"Name"})})}),(0,b.jsx)(d.Tbody,{children:B.sort().map((function(e,t){return(0,b.jsx)(d.Tr,{_hover:{bg:"#FFF70022"},children:(0,b.jsx)(d.Td,{onClick:function(){return V(e)},cursor:"pointer",children:e})},t)}))})]})]})]})}},688:function(e,t){},694:function(e,t){},705:function(e,t){},706:function(e,t){},868:function(e,t,n){"use strict";var r=n(181);Object.defineProperty(t,"__esModule",{value:!0}),t.useSuggestions=void 0;var a=r(n(5)),i=r(n(150)),c=r(n(175)),u=r(n(3)),s=n(0),o=n(174),l=n(364);t.useSuggestions=function(e){var t=e.did,n=(0,s.useState)({path:[],string:""}),r=(0,u.default)(n,2),d=r[0],f=r[1],h=(0,s.useContext)(l.IDXContext),v=(0,s.useState)([]),p=(0,u.default)(v,2),x=p[0],m=p[1],b=(0,s.useCallback)((0,c.default)(a.default.mark((function e(){var n,r,c,u,s,l,f,v;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h){e.next=32;break}return e.next=3,h.get("m\xefmis",t);case 3:n=e.sent,r=n?[n]:[],c=(0,i.default)(d.path),e.prev=6,c.s();case 8:if((u=c.n()).done){e.next=21;break}if(l=u.value,f=null===(s=n)||void 0===s?void 0:s[l],!Boolean(f)){e.next=18;break}return e.next=14,o.TileDocument.load(h.ceramic,f);case 14:(n=e.sent.content)&&r.push(n),e.next=19;break;case 18:return e.abrupt("break",21);case 19:e.next=8;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(6),c.e(e.t0);case 26:return e.prev=26,c.f(),e.finish(26);case 29:v=[],r.length-1===d.path.length&&(v=Object.keys(r[r.length-1]),""!==d.string&&(v=v.filter((function(e){return e.includes(d.string)})))),m(v);case 32:case"end":return e.stop()}}),e,null,[[6,23,26,29]])}))),[d,h,t]);return(0,s.useEffect)((function(){return b()}),[b]),[x,f]}},870:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,880)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};t.default=r}},[[530,1,2]]]);
//# sourceMappingURL=main.f76e7c7b.chunk.js.map